<div class="prompt">
    <div class="heading-wrapper">
        <span class="bold">Generated Feedback Template Links</span>
    </div>
    <mat-progress-bar mode="indeterminate" *ngIf="!generatedFeedbackLinks"></mat-progress-bar>
    <div class="table-wrapper">
        <table mat-table [dataSource]="dataSource" class="generated-link-table">
            <ng-container matColumnDef="serial">
                <th mat-header-cell *matHeaderCellDef>S.No.</th>
                <td mat-cell *matCellDef="let generatedLink; let i = index;">
                    {{i+1 + pageConfig.pageSize*pageConfig.pageNumber}}
                </td>
            </ng-container>
            <ng-container matColumnDef="entityId">
                <th mat-header-cell *matHeaderCellDef>Entity ID</th>
                <td mat-cell *matCellDef="let generatedLink; let i = index;">
                    {{generatedLink.entityId}}
                </td>
            </ng-container>
            <ng-container matColumnDef="entityName">
                <th mat-header-cell *matHeaderCellDef>Entity Name</th>
                <td mat-cell *matCellDef="let generatedLink; let i = index;">
                    {{generatedLink.entityName}}
                </td>
            </ng-container>
            <ng-container matColumnDef="feedbackUrl">
                <th mat-header-cell *matHeaderCellDef>Generated Link</th>
                <td mat-cell *matCellDef="let generatedLink; let i = index;">
                    <div class="link-wrapper">
                        <span>{{generatedLink.feedbackUrl.slice(0, 15)}}...</span>
                        <img
                            src="../../../assets/copy-icon.svg"
                            alt="copy" matTooltip="Copy Link"
                            class="copy-img"
                            [cdkCopyToClipboard]="generatedLink.feedbackUrl"
                            (click)="copyLinkAlert(generatedLink.entityName)"
                        >
                    </div>
                </td>
            </ng-container>
            <ng-container matColumnDef="createdAt">
                <th mat-header-cell *matHeaderCellDef>Created On</th>
                <td mat-cell *matCellDef="let generatedLink; let i = index;">
                    {{generatedLink.createdAt | date}}
                </td>
            </ng-container>
        
            <tr mat-header-row *matHeaderRowDef="columnsToDisplay" class="table-header"></tr>
            <tr mat-row *matRowDef="let row; columns: columnsToDisplay;" class="table-rows"></tr>
        </table>
        <mat-paginator [length]="totalLinks" [pageSize]="pageConfig.pageSize" (page)="handlePageEvent($event)" #paginator>
        </mat-paginator>
    </div>
    <div *ngIf="generatedFeedbackLinks.response.data.length===0">
        <app-no-data-available></app-no-data-available>
    </div>
</div>